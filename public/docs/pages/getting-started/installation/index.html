<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation Guide - HospitiumRIS Documentation</title>
    <link rel="stylesheet" href="../../../styles.css">
    <link rel="stylesheet" href="../../intro/intro.css">
</head>

<body>
    <nav class="navbar">
        <div class="navbar-left">
            <a href="https://hospitium.hospitiumris.org/" class="logo">
                <img src="../../../img/hospitium-logo.png" alt="HospitiumRIS Logo">
            </a>
            <a href="../../intro/index.html" class="nav-link">Documentation</a>
        </div>
        <div class="navbar-right">
            <a href="https://github.com/hospitiumris/hospitiumris" target="_blank" class="github-link">GitHub ‚Üó</a>
        </div>
    </nav>

    <div class="docs-container">
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-toggle">
                    <span class="toggle-icon">‚ñº</span>
                    Getting Started
                </h3>
                <ul class="sidebar-content">
                    <li><a href="../../intro/index.html">Introduction</a></li>
                    <li><a href="../requirements/index.html">System Requirements</a></li>
                    <!-- <li><a href="#" class="active">Installation Guide</a></li> -->
                </ul>
            </div>
            <div class="sidebar-section">
                <h3 class="sidebar-toggle">
                    <span class="toggle-icon">‚ñº</span>
                    Database
                </h3>
                <ul class="sidebar-content">
                    <li><a href="../../database/schema/index.html">Schema Overview</a></li>
                    
                </ul>
            </div>
            <div class="sidebar-section">
                <h3 class="sidebar-toggle">
                    <span class="toggle-icon">‚ñº</span>
                    Modules
                </h3>
                <ul class="sidebar-content">
                    <li><a href="../../modules/researcher/index.html">Researcher Portal</a></li>
                    <li><a href="../../modules/institution/index.html">Institution Portal</a></li>
                    <li><a href="../../modules/foundation/index.html">Foundation Portal</a></li>
                    <li><a href="../../modules/super-admin/index.html">Super Admin Portal</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3 class="sidebar-toggle">
                    <span class="toggle-icon">‚ñº</span>
                    Features
                </h3>
                <ul class="sidebar-content">
                    <li><a href="../../features/manuscripts/index.html">Manuscripts</a></li>
                    <li><a href="../../features/publications/index.html">Publications</a></li>
                    <li><a href="../../features/proposals/index.html">Proposals</a></li>
                    <li><a href="../../features/orcid/index.html">ORCID Integration</a></li>
                </ul>
            </div>
        </aside>

        <main class="content">
            <h1>Installation Guide</h1>
            <p>This guide walks you through setting up HospitiumRIS from scratch.</p>

            <section class="doc-section">
                <h2 id="quick-start">Quick Start</h2>
                <pre><code class="language-bash"># Clone the repository
git clone https://github.com/hospitiumris/hospitiumris.git
cd hospitiumris

# Install dependencies
npm install

# Set up environment variables
cp .env.example .env

# Initialize the database
npx prisma migrate dev

# Start the development server
npm run dev</code></pre>
            </section>

            <section class="doc-section">
                <h2 id="detailed-installation-steps">Detailed Installation Steps</h2>

                <h3 id="step-1-clone-the-repository">Step 1: Clone the Repository</h3>
                <pre><code class="language-bash">git clone https://github.com/hospitiumris/hospitiumris.git
cd hospitiumris</code></pre>

                <h3 id="step-2-install-dependencies">Step 2: Install Dependencies</h3>
                <pre><code class="language-bash">npm install</code></pre>
                <p>This will install all required packages including:</p>
                <ul>
                    <li>Next.js 16 and React 19</li>
                    <li>Material UI 7 components</li>
                    <li>Prisma ORM client</li>
                    <li>TipTap editor extensions</li>
                    <li>Chart.js and D3.js for visualizations</li>
                </ul>

                <h3 id="step-3-configure-environment-variables">Step 3: Configure Environment Variables</h3>
                <p>Create a <code>.env</code> file in the project root:</p>
                <pre><code class="language-bash">cp .env.example .env</code></pre>
                <p>Edit the <code>.env</code> file with your configuration:</p>
                <pre><code class="language-env"># Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/hospitiumris?schema=public"

# Application Settings
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NODE_ENV="development"

# ORCID OAuth Configuration (Optional)
ORCID_CLIENT_ID="your-orcid-client-id"
ORCID_CLIENT_SECRET="your-orcid-client-secret"
ORCID_REDIRECT_URI="http://localhost:3000/auth/orcid/callback"
ORCID_SANDBOX="true"

# Email Configuration (Optional)
SMTP_HOST="smtp.example.com"
SMTP_PORT="587"
SMTP_USER="your-email@example.com"
SMTP_PASS="your-smtp-password"
SMTP_FROM="noreply@hospitiumris.com"

# Security
JWT_SECRET="your-secure-random-string-minimum-32-characters"</code></pre>

                <h3 id="step-4-set-up-postgresql-database">Step 4: Set Up PostgreSQL Database</h3>
                
                <h4 id="create-the-database">Create the Database</h4>
                <p><strong>Windows (psql):</strong></p>
                <pre><code class="language-bash">psql -U postgres
CREATE DATABASE hospitiumris;
CREATE USER hospitiumuser WITH PASSWORD 'your-secure-password';
GRANT ALL PRIVILEGES ON DATABASE hospitiumris TO hospitiumuser;
\q</code></pre>

                <p><strong>Linux/macOS:</strong></p>
                <pre><code class="language-bash">sudo -u postgres psql
CREATE DATABASE hospitiumris;
CREATE USER hospitiumuser WITH PASSWORD 'your-secure-password';
GRANT ALL PRIVILEGES ON DATABASE hospitiumris TO hospitiumuser;
\q</code></pre>

                <h4 id="update-database_url">Update DATABASE_URL</h4>
                <p>Update your <code>.env</code> file with the database connection string:</p>
                <pre><code class="language-env">DATABASE_URL="postgresql://hospitiumuser:your-secure-password@localhost:5432/hospitiumris?schema=public"</code></pre>

                <h3 id="step-5-initialize-database-schema">Step 5: Initialize Database Schema</h3>
                <p>Generate the Prisma client and run migrations:</p>
                <pre><code class="language-bash"># Generate Prisma client
npm run db:generate

# Run database migrations
npm run db:migrate</code></pre>
                <p>To seed sample data (optional):</p>
                <pre><code class="language-bash">npm run db:seed</code></pre>

                <h3 id="step-6-start-the-development-server">Step 6: Start the Development Server</h3>
                <pre><code class="language-bash">npm run dev</code></pre>
                <p>The application will be available at <code>http://localhost:3000</code></p>
            </section>

            <section class="doc-section">
                <h2 id="production-deployment">Production Deployment</h2>

                <h3 id="build-for-production">Build for Production</h3>
                <pre><code class="language-bash">npm run build</code></pre>

                <h3 id="start-production-server">Start Production Server</h3>
                <pre><code class="language-bash">npm start</code></pre>

                <h3 id="production-environment-variables">Production Environment Variables</h3>
                <p>For production, update your <code>.env</code>:</p>
                <pre><code class="language-env">NODE_ENV="production"
NEXT_PUBLIC_APP_URL="https://your-domain.com"
ORCID_SANDBOX="false"</code></pre>

                <h3 id="production-considerations">Production Considerations</h3>
                <ol>
                    <li><strong>Use HTTPS</strong> - Configure SSL certificates</li>
                    <li><strong>Secure Environment Variables</strong> - Use secrets management</li>
                    <li><strong>Database Backups</strong> - Set up automated backups</li>
                    <li><strong>Monitoring</strong> - Implement logging and error tracking</li>
                    <li><strong>Reverse Proxy</strong> - Use Nginx or similar for load balancing</li>
                </ol>
            </section>

            <section class="doc-section">
                <h2 id="available-scripts">Available Scripts</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Script</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>npm run dev</code></td>
                            <td>Start development server with Turbopack</td>
                        </tr>
                        <tr>
                            <td><code>npm run build</code></td>
                            <td>Build for production</td>
                        </tr>
                        <tr>
                            <td><code>npm start</code></td>
                            <td>Start production server</td>
                        </tr>
                        <tr>
                            <td><code>npm run lint</code></td>
                            <td>Run ESLint</td>
                        </tr>
                        <tr>
                            <td><code>npm run db:generate</code></td>
                            <td>Generate Prisma client</td>
                        </tr>
                        <tr>
                            <td><code>npm run db:push</code></td>
                            <td>Push schema changes without migration</td>
                        </tr>
                        <tr>
                            <td><code>npm run db:migrate</code></td>
                            <td>Run database migrations</td>
                        </tr>
                        <tr>
                            <td><code>npm run db:reset</code></td>
                            <td>Reset database (‚ö†Ô∏è destroys data)</td>
                        </tr>
                        <tr>
                            <td><code>npm run db:seed</code></td>
                            <td>Seed sample data</td>
                        </tr>
                        <tr>
                            <td><code>npm run db:studio</code></td>
                            <td>Open Prisma Studio (database GUI)</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section class="doc-section">
                <h2 id="troubleshooting">Troubleshooting</h2>

                <h3 id="database-connection-issues">Database Connection Issues</h3>
                <p><strong>Error:</strong> <code>Error: P1001: Can't reach database server</code></p>
                <p><strong>Solution:</strong></p>
                <ol>
                    <li>Verify PostgreSQL is running</li>
                    <li>Check DATABASE_URL credentials</li>
                    <li>Ensure the database exists</li>
                    <li>Check firewall/port settings</li>
                </ol>

                <h3 id="port-already-in-use">Port Already in Use</h3>
                <p><strong>Error:</strong> <code>Port 3000 is already in use</code></p>
                <p><strong>Solution:</strong></p>
                <pre><code class="language-bash"># Find the process
netstat -ano | findstr :3000   # Windows
lsof -i :3000                   # Linux/macOS

# Kill the process or use a different port
npm run dev -- -p 3001</code></pre>

                <h3 id="prisma-migration-issues">Prisma Migration Issues</h3>
                <p><strong>Error:</strong> <code>Migration failed</code></p>
                <p><strong>Solution:</strong></p>
                <pre><code class="language-bash"># Reset the database (WARNING: destroys data)
npm run db:reset

# Or manually fix and retry
npx prisma migrate dev --name fix_migration</code></pre>

                <h3 id="nodejs-version-issues">Node.js Version Issues</h3>
                <p><strong>Error:</strong> <code>Unsupported engine</code></p>
                <p><strong>Solution:</strong> Use Node.js 18.x or 20.x LTS:</p>
                <pre><code class="language-bash"># Using nvm
nvm install 20
nvm use 20</code></pre>
            </section>

            <hr>

            <section class="doc-section">
                <h2 id="next-steps">Next Steps</h2>
                <p>After installation:</p>
                <ol>
                    <li>Create your first admin account</li>
                    <li>Set up ORCID integration</li>
                    <li>Explore the Researcher Portal</li>
                    <li>Understand the Database Schema</li>
                </ol>

                <div class="info-box">
                    <strong>üí° Need Help?</strong>
                    <p>Check the logs in the <code>logs/</code> directory or run Prisma Studio to debug database issues:</p>
                    <pre><code class="language-bash">npm run db:studio</code></pre>
                </div>
            </section>

            <div class="page-nav">
                <a href="../requirements/index.html" class="page-nav-prev">
                    <span class="page-nav-label">‚Üê Previous</span>
                    <span class="page-nav-title">System Requirements</span>
                </a>
                <a href="../../database/schema/index.html" class="page-nav-next">
                    <span class="page-nav-label">Next ‚Üí</span>
                    <span class="page-nav-title">Database Schema</span>
                </a>
            </div>
        </main>

        <aside class="toc">
            <h4>On this page</h4>
            <ul>
                <li><a href="#quick-start">Quick Start</a></li>
                <li>
                    <a href="#detailed-installation-steps">Detailed Installation Steps</a>
                    <ul>
                        <li><a href="#step-1-clone-the-repository">Step 1: Clone the Repository</a></li>
                        <li><a href="#step-2-install-dependencies">Step 2: Install Dependencies</a></li>
                        <li><a href="#step-3-configure-environment-variables">Step 3: Configure Environment Variables</a></li>
                        <li><a href="#step-4-set-up-postgresql-database">Step 4: Set Up PostgreSQL Database</a></li>
                        <li><a href="#step-5-initialize-database-schema">Step 5: Initialize Database Schema</a></li>
                        <li><a href="#step-6-start-the-development-server">Step 6: Start the Development Server</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#production-deployment">Production Deployment</a>
                    <ul>
                        <li><a href="#build-for-production">Build for Production</a></li>
                        <li><a href="#start-production-server">Start Production Server</a></li>
                        <li><a href="#production-environment-variables">Production Environment Variables</a></li>
                        <li><a href="#production-considerations">Production Considerations</a></li>
                    </ul>
                </li>
                <li><a href="#available-scripts">Available Scripts</a></li>
                <li>
                    <a href="#troubleshooting">Troubleshooting</a>
                    <ul>
                        <li><a href="#database-connection-issues">Database Connection Issues</a></li>
                        <li><a href="#port-already-in-use">Port Already in Use</a></li>
                        <li><a href="#prisma-migration-issues">Prisma Migration Issues</a></li>
                        <li><a href="#nodejs-version-issues">Node.js Version Issues</a></li>
                    </ul>
                </li>
                <li><a href="#next-steps">Next Steps</a></li>
            </ul>
        </aside>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Documentation</h4>
                <ul>
                    <li><a href="../../intro/index.html">Getting Started</a></li>
                    <li><a href="../requirements/index.html">System Requirements</a></li>
                    <li><a href="../../database/schema/index.html">Database Schema</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Modules</h4>
                <ul>
                    <li><a href="../../modules/researcher/index.html">Researcher Portal</a></li>
                    <li><a href="../../modules/institution/index.html">Institution Portal</a></li>
                    <li><a href="../../modules/foundation/index.html">Foundation Portal</a></li>
                    <li><a href="../../modules/super-admin/index.html">Super Admin Portal</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Features</h4>
                <ul>
                    <li><a href="../../features/manuscripts/index.html">Manuscripts</a></li>
                    <li><a href="../../features/publications/index.html">Publications</a></li>
                    <li><a href="../../features/proposals/index.html">Proposals</a></li>
                    <li><a href="../../features/orcid/index.html">ORCID Integration</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Copyright 2026 HospitiumRIS. Built with Docusaurus.</p>
        </div>
    </footer>

    <script>
        document.querySelectorAll('.sidebar-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const section = this.parentElement;
                const content = section.querySelector('.sidebar-content');
                const icon = this.querySelector('.toggle-icon');
                
                section.classList.toggle('collapsed');
                
                if (section.classList.contains('collapsed')) {
                    content.style.display = 'none';
                    icon.textContent = '‚ñ∂';
                } else {
                    content.style.display = 'block';
                    icon.textContent = '‚ñº';
                }
            });
        });
    </script>
</body>

</html>
